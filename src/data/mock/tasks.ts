import type { Task, TaskTemplate } from "../../types";

// === Mock Tasks ===
export const mockTasks: Task[] = [
  // Room ROOM-001 - スタイリッシュスイート - Anniversary couple
  {
    id: "TSK001",
    reservationId: "RSV001",
    category: "cleaning",
    title: "客室清掃 スタイリッシュスイート",
    description: "和洋室デラックス清掃。結婚記念日のお客様。",
    roomId: "ROOM-001",
    scheduledTime: "10:00",
    estimatedDuration: 45,
    status: "completed",
    assignedStaffId: "STF001",
    priority: "high",
    isAnniversaryRelated: false,
    completedAt: "10:42",
    cleaningChecklist: [
      { item: "bed_making", isChecked: true },
      { item: "floor_cleaning", isChecked: true },
      { item: "bathroom_cleaning", isChecked: true },
      { item: "amenity_check", isChecked: true },
      { item: "garbage_collection", isChecked: true },
    ],
  },
  {
    id: "TSK002",
    reservationId: "RSV001",
    category: "celebration",
    title: "結婚記念セッティング スタイリッシュスイート",
    description: "花束・シャンパン・メッセージカードの準備",
    roomId: "ROOM-001",
    scheduledTime: "14:00",
    estimatedDuration: 30,
    status: "in_progress",
    assignedStaffId: "STF005",
    priority: "high",
    isAnniversaryRelated: true,
  },
  {
    id: "TSK003",
    reservationId: "RSV001",
    category: "meal_service",
    title: "夕食配膳 スタイリッシュスイート",
    description: "18:30開始。甲殻類アレルギー対応済み。",
    roomId: "ROOM-001",
    scheduledTime: "18:30",
    estimatedDuration: 20,
    status: "pending",
    assignedStaffId: "STF002",
    priority: "normal",
    isAnniversaryRelated: false,
  },
  // Room ROOM-003 - プレシャススイート - Family with baby
  {
    id: "TSK004",
    reservationId: "RSV002",
    category: "cleaning",
    title: "客室清掃 プレシャススイート",
    description: "特別室スイート清掃。ベビーベッド設置済み確認。",
    roomId: "ROOM-003",
    scheduledTime: "09:00",
    estimatedDuration: 60,
    status: "completed",
    assignedStaffId: "STF003",
    priority: "normal",
    isAnniversaryRelated: false,
    completedAt: "10:05",
    cleaningChecklist: [
      { item: "bed_making", isChecked: true },
      { item: "floor_cleaning", isChecked: true },
      { item: "bathroom_cleaning", isChecked: true },
      { item: "amenity_check", isChecked: true },
      { item: "garbage_collection", isChecked: true },
      { item: "outdoor_bath_cleaning", isChecked: true },
      { item: "window_cleaning", isChecked: true },
    ],
  },
  {
    id: "TSK005",
    reservationId: "RSV002",
    category: "bath",
    title: "露天風呂準備 プレシャススイート",
    description: "13:30までに完了。温度チェック必須。",
    roomId: "ROOM-003",
    scheduledTime: "13:00",
    estimatedDuration: 15,
    status: "in_progress",
    assignedStaffId: "STF003",
    priority: "normal",
    isAnniversaryRelated: false,
  },
  {
    id: "TSK006",
    reservationId: "RSV002",
    category: "meal_service",
    title: "夕食配膳 プレシャススイート",
    description: "18:00開始。お子様メニュー含む。",
    roomId: "ROOM-003",
    scheduledTime: "18:00",
    estimatedDuration: 25,
    status: "pending",
    assignedStaffId: "STF002",
    priority: "normal",
    isAnniversaryRelated: false,
  },
  // Room ROOM-002 - コンフォートスイート - Single guest
  {
    id: "TSK007",
    reservationId: "RSV003",
    category: "cleaning",
    title: "客室清掃 コンフォートスイート",
    description: "和室スタンダード清掃",
    roomId: "ROOM-002",
    scheduledTime: "11:00",
    estimatedDuration: 30,
    status: "completed",
    assignedStaffId: "STF001",
    priority: "normal",
    isAnniversaryRelated: false,
    completedAt: "11:28",
    cleaningChecklist: [
      { item: "bed_making", isChecked: true },
      { item: "floor_cleaning", isChecked: true },
      { item: "bathroom_cleaning", isChecked: true },
      { item: "amenity_check", isChecked: true },
      { item: "garbage_collection", isChecked: true },
    ],
  },
  {
    id: "TSK008",
    reservationId: "RSV003",
    category: "pickup",
    title: "送迎 鳥羽駅→旅館",
    description: "15:30 鳥羽駅到着予定。鈴木様1名。",
    roomId: "ROOM-002",
    scheduledTime: "15:30",
    estimatedDuration: 20,
    status: "pending",
    assignedStaffId: "STF004",
    priority: "normal",
    isAnniversaryRelated: false,
  },
  // Room ROOM-004 - プレミアムスイート - Premium suite with birthday
  {
    id: "TSK009",
    reservationId: "RSV004",
    category: "cleaning",
    title: "客室清掃 プレミアムスイート",
    description: "貴賓室清掃。誕生日のお客様、特別対応必要。",
    roomId: "ROOM-004",
    scheduledTime: "09:30",
    estimatedDuration: 90,
    status: "completed",
    assignedStaffId: "STF003",
    priority: "urgent",
    isAnniversaryRelated: false,
    completedAt: "11:00",
    cleaningChecklist: [
      { item: "bed_making", isChecked: true },
      { item: "floor_cleaning", isChecked: true },
      { item: "bathroom_cleaning", isChecked: true },
      { item: "amenity_check", isChecked: true },
      { item: "garbage_collection", isChecked: true },
      { item: "outdoor_bath_cleaning", isChecked: true },
      { item: "window_cleaning", isChecked: true },
      { item: "special_cleaning", isChecked: true },
    ],
  },
  {
    id: "TSK010",
    reservationId: "RSV004",
    category: "celebration",
    title: "バースデーセッティング プレミアムスイート",
    description: "ケーキ・花束・バルーン装飾の準備",
    roomId: "ROOM-004",
    scheduledTime: "14:30",
    estimatedDuration: 45,
    status: "pending",
    assignedStaffId: "STF005",
    priority: "urgent",
    isAnniversaryRelated: true,
  },
  {
    id: "TSK011",
    reservationId: "RSV004",
    category: "bath",
    title: "露天風呂準備 プレミアムスイート",
    description: "貴賓室専用露天風呂。花びら浮かべ対応。",
    roomId: "ROOM-004",
    scheduledTime: "14:00",
    estimatedDuration: 20,
    status: "pending",
    assignedStaffId: "STF003",
    priority: "high",
    isAnniversaryRelated: true,
  },
  {
    id: "TSK012",
    reservationId: "RSV004",
    category: "meal_service",
    title: "部屋食準備 プレミアムスイート",
    description: "19:00開始。特別コース料理。",
    roomId: "ROOM-004",
    scheduledTime: "19:00",
    estimatedDuration: 30,
    status: "pending",
    assignedStaffId: "STF002",
    priority: "high",
    isAnniversaryRelated: false,
  },
  // Room ROOM-005 - ふふラグジュアリーコーナースイート - Group
  {
    id: "TSK013",
    reservationId: "RSV005",
    category: "cleaning",
    title: "客室清掃 ふふラグジュアリーコーナースイート",
    description: "和洋室デラックス清掃。団体様4名。",
    roomId: "ROOM-005",
    scheduledTime: "12:00",
    estimatedDuration: 50,
    status: "pending",
    assignedStaffId: "STF001",
    priority: "normal",
    isAnniversaryRelated: false,
    cleaningChecklist: [
      { item: "bed_making", isChecked: false },
      { item: "floor_cleaning", isChecked: false },
      { item: "bathroom_cleaning", isChecked: false },
      { item: "amenity_check", isChecked: false },
      { item: "garbage_collection", isChecked: false },
    ],
  },
  {
    id: "TSK014",
    reservationId: "RSV005",
    category: "pickup",
    title: "送迎 伊勢市駅→旅館",
    description: "16:30 伊勢市駅到着予定。高橋様ご一行4名。",
    roomId: "ROOM-005",
    scheduledTime: "16:30",
    estimatedDuration: 25,
    status: "pending",
    assignedStaffId: "STF004",
    priority: "normal",
    isAnniversaryRelated: false,
  },
  {
    id: "TSK015",
    reservationId: "RSV005",
    category: "meal_service",
    title: "夕食配膳 ふふラグジュアリーコーナースイート",
    description: "19:30開始。団体様4名分。",
    roomId: "ROOM-005",
    scheduledTime: "19:30",
    estimatedDuration: 30,
    status: "pending",
    assignedStaffId: "STF006",
    priority: "normal",
    isAnniversaryRelated: false,
  },
];

// === Mock Task Templates ===
export const mockTaskTemplates: TaskTemplate[] = [
  {
    id: "TPL001",
    name: "客室清掃（スタンダード）",
    category: "cleaning",
    description: "和室スタンダードの基本清掃",
    defaultDuration: 30,
    applicableRoomTypes: ["standard"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: -300 },
  },
  {
    id: "TPL002",
    name: "客室清掃（デラックス）",
    category: "cleaning",
    description: "和洋室デラックスの清掃",
    defaultDuration: 45,
    applicableRoomTypes: ["deluxe"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: -300 },
  },
  {
    id: "TPL003",
    name: "客室清掃（スイート）",
    category: "cleaning",
    description: "特別室スイートの清掃",
    defaultDuration: 60,
    applicableRoomTypes: ["suite"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: -360 },
  },
  {
    id: "TPL004",
    name: "客室清掃（貴賓室）",
    category: "cleaning",
    description: "貴賓室の特別清掃",
    defaultDuration: 90,
    applicableRoomTypes: ["premium_suite"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: -360 },
  },
  {
    id: "TPL005",
    name: "夕食配膳",
    category: "meal_service",
    description: "夕食の配膳準備と提供",
    defaultDuration: 25,
    applicableRoomTypes: ["standard", "deluxe", "suite", "premium_suite"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: 210 },
  },
  {
    id: "TPL006",
    name: "記念日セッティング",
    category: "celebration",
    description: "花束、ケーキ、装飾の準備",
    defaultDuration: 30,
    applicableRoomTypes: ["deluxe", "suite", "premium_suite"],
    triggerConditions: [{ type: "anniversary" }],
    relativeTime: { reference: "check_in", offsetMinutes: -60 },
  },
  {
    id: "TPL007",
    name: "露天風呂準備",
    category: "bath",
    description: "露天風呂の清掃と温度調整",
    defaultDuration: 20,
    applicableRoomTypes: ["suite", "premium_suite"],
    triggerConditions: [{ type: "room_type", value: "suite" }],
    relativeTime: { reference: "check_in", offsetMinutes: -60 },
  },
  {
    id: "TPL008",
    name: "駅送迎",
    category: "pickup",
    description: "最寄り駅からの送迎",
    defaultDuration: 20,
    applicableRoomTypes: ["standard", "deluxe", "suite", "premium_suite"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: -30 },
  },
  {
    id: "TPL009",
    name: "ターンダウンサービス",
    category: "turndown",
    description: "就寝前の客室準備",
    defaultDuration: 15,
    applicableRoomTypes: ["suite", "premium_suite"],
    triggerConditions: [{ type: "check_in" }],
    relativeTime: { reference: "check_in", offsetMinutes: 360 },
  },
];

// === Helper Functions ===
export const getTasksByRoom = (roomId: string): Task[] =>
  mockTasks.filter((t) => t.roomId === roomId);

export const getTasksByStaff = (staffId: string): Task[] =>
  mockTasks.filter((t) => t.assignedStaffId === staffId);

export const getTasksByStatus = (status: Task["status"]): Task[] =>
  mockTasks.filter((t) => t.status === status);

export const getPendingTasksForStaff = (staffId: string): Task[] =>
  mockTasks.filter((t) => t.assignedStaffId === staffId && t.status !== "completed");
